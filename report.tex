\documentclass[a4paper,12pt]{article}
\usepackage{graphicx}
\usepackage{lipsum, float}
\usepackage{cite}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{titlesec}
\usepackage{comfortaa}
\usepackage{tocloft}
\usepackage{url}
\usepackage[font={small,it}]{caption}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[onehalfspacing]{setspace}

% Code example styles
\definecolor{backcolour}{rgb}{0.15,0.15,0.20}
\definecolor{numbercolor}{rgb}{0.8,0.3,0.8}  
\definecolor{operatorcolor}{rgb}{0.8,0.6,1}

\lstdefinestyle{fortran}{
    language=[90]Fortran,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{gray},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{black},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\color{white},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
}

\lstdefinestyle{c}{
    language=C,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{gray},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{black},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\color{white},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
}
\lstdefinestyle{python}{
    language=Python,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{gray},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{black},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\color{white},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
}

% \lstset{style=fortran}

% the 4.5cm left margin is annoying as shit but a requirement. Uncomment before final draft.
\usepackage[a4paper, left=4.5cm, right=2cm, top=2.5cm, bottom=3cm]{geometry}
\usepackage[color=red!20]{todonotes}

\newfloat{floatbox}{tb}{abox}[section]

% Possible title: Real-time pitch detection for singers using Short Time Fourier transform.

% ToC 
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}

\begin{document}

% Font stuff

\titleformat{\section}{\fontfamily{comfortaa}\selectfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\fontfamily{comfortaa}\selectfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\fontfamily{comfortaa}\selectfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\renewcommand{\cftsecfont}{\fontfamily{comfortaa}\selectfont}

\renewcommand{\cftsubsecfont}{\fontfamily{comfortaa}\selectfont}
\renewcommand{\cftsubsubsecfont}{\fontfamily{comfortaa}\selectfont}
\renewcommand{\contentsname}{\fontfamily{comfortaa}\selectfont Table of Contents}
\input{chapters/cover}
\input{chapters/abstract}

% ToC
\tableofcontents    

% Introduction
\section{Introduction}
\input{chapters/introduction} 

\section{Introductory Fourier analysis}
\input{chapters/background} 

\section{Fourier transform applications}
\input{chapters/applications} 

% Body

\section{ Using short time Fourier transform for pitch detection}
\input{chapters/pitch_detection}
\section{Implementation}
\input{chapters/implementation}
\section{Analysis and discussion}

% Conclusions
\section{Conclusions}

% References
\bibliographystyle{IEEEtran}
\bibliography{references}

\end{document}