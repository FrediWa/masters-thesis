\documentclass[a4paper,12pt]{article}
\usepackage{graphicx}
\usepackage{lipsum, float}
\usepackage{cite}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{titlesec}
\usepackage{comfortaa}
\usepackage{tocloft}
\usepackage{url}
\usepackage[font={small,it}]{caption}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[onehalfspacing]{setspace}
\usepackage{etoolbox} % For robust macros
\usepackage{fontenc}
\usepackage{titling}
% Code example styles
\input{languages} 

% \lstset{style=fortran}

% the 4.5cm left margin is annoying as shit but a requirement. Uncomment before final draft.
\usepackage[a4paper, left=4.5cm, right=2cm, top=2.5cm, bottom=3cm]{geometry}
\usepackage[color=red!20]{todonotes}

\newfloat{floatbox}{tb}{abox}[section]

% Macro for adding unnumbered sectons to 
\newcommand{\addunnumberedtotoc}[1]{%
  \section*{#1}%
  \phantomsection%
  \addtocontents{toc}{\protect\contentsline{section}{#1}{}}
}

% Style title 
\renewcommand{\maketitlehooka}{\fontfamily{comfortaa}}

% Possible title: Real-time pitch detection for singers using Short Time Fourier transform.

% ToC 
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}

\begin{document}

% Font stuff

\titleformat{\section}{\fontfamily{comfortaa}\selectfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\fontfamily{comfortaa}\selectfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\fontfamily{comfortaa}\selectfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\renewcommand{\cftsecfont}{\fontfamily{comfortaa}\selectfont}

\renewcommand{\cftsubsecfont}{\fontfamily{comfortaa}\selectfont}
\renewcommand{\cftsubsubsecfont}{\fontfamily{comfortaa}\selectfont}
\renewcommand{\contentsname}{\fontfamily{comfortaa}\selectfont Table of Contents}

% Hide page numbering until body.
\pagenumbering{gobble}

\input{chapters/cover}

\input{chapters/abstract}

% ToC
\setcounter{tocdepth}{2}
\tableofcontents    
\newpage 

\addcontentsline{toc}{section}{List of abbreviations}

\section*{List of abbreviations}
\input{abbreviations}
\newpage

% Re-enable page numbering.
\pagenumbering{arabic}

% Introduction
\section{Introduction}
\input{chapters/introduction} 
\newpage
\section{Introductory Fourier analysis}
\input{chapters/background} 
\newpage

% Body

\section{Pitch detection using the Fourier transform}
\input{chapters/pitch_detection}
\newpage
\section{Implementation}
\input{chapters/implementation}
\newpage
\section{Results}
\input{chapters/results}
\newpage

% Conclusions
\section{Conclusions}
\input{chapters/conclusions}
\newpage

% Swedish summary
\section*{Svensk sammanfattning}
\addcontentsline{toc}{section}{Svensk sammanfattning}
\input{chapters/sammanfattning}

% References
\bibliographystyle{IEEEtran}
\addcontentsline{toc}{section}{References}
\bibliography{references}

\end{document}
